{"mappings":"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","sources":["<anon>","script.js","ground.js","updateCustomProperty.js","dino.js","cactus.js"],"sourcesContent":["function $519cb4c390022dfc$export$e5f48de68210dc65(elem, prop) {\n    return parseFloat(getComputedStyle(elem).getPropertyValue(prop)) || 0;\n}\nfunction $519cb4c390022dfc$export$e03ca791698dd2c(elem, prop, value) {\n    elem.style.setProperty(prop, value);\n}\nfunction $519cb4c390022dfc$export$f4266cf9df6b525c(elem, prop, inc) {\n    $519cb4c390022dfc$export$e03ca791698dd2c(elem, prop, $519cb4c390022dfc$export$e5f48de68210dc65(elem, prop) + inc);\n}\n\n\nconst $c37474b915fc53e3$var$SPEED = 0.05;\nconst $c37474b915fc53e3$var$groundElems = document.querySelectorAll(\"[data-ground]\");\nfunction $c37474b915fc53e3$export$62c7cf436fdb9795() {\n    (0, $519cb4c390022dfc$export$e03ca791698dd2c)($c37474b915fc53e3$var$groundElems[0], \"--left\", 0);\n    (0, $519cb4c390022dfc$export$e03ca791698dd2c)($c37474b915fc53e3$var$groundElems[1], \"--left\", 300);\n}\nfunction $c37474b915fc53e3$export$1fc9a0611b84a598(delta, speedScale) {\n    $c37474b915fc53e3$var$groundElems.forEach((ground)=>{\n        (0, $519cb4c390022dfc$export$f4266cf9df6b525c)(ground, \"--left\", delta * speedScale * $c37474b915fc53e3$var$SPEED * -1);\n        if ((0, $519cb4c390022dfc$export$e5f48de68210dc65)(ground, \"--left\") <= -300) (0, $519cb4c390022dfc$export$f4266cf9df6b525c)(ground, \"--left\", 600);\n    });\n}\n\n\n\nconst $feaabd4d71c4e325$var$dinoElem = document.querySelector(\"[data-dino]\");\nconst $feaabd4d71c4e325$var$JUMP_SPEED = 0.45;\nconst $feaabd4d71c4e325$var$GRAVITY = 0.0015;\nconst $feaabd4d71c4e325$var$DINO_FRAME_COUNT = 2;\nconst $feaabd4d71c4e325$var$FRAME_TIME = 100;\nlet $feaabd4d71c4e325$var$isJumping;\nlet $feaabd4d71c4e325$var$dinoFrame;\nlet $feaabd4d71c4e325$var$currentFrameTime;\nlet $feaabd4d71c4e325$var$yVelocity;\nfunction $feaabd4d71c4e325$export$8ddafcef54881f96() {\n    $feaabd4d71c4e325$var$isJumping = false;\n    $feaabd4d71c4e325$var$dinoFrame = 0;\n    $feaabd4d71c4e325$var$currentFrameTime = 0;\n    $feaabd4d71c4e325$var$yVelocity = 0;\n    (0, $519cb4c390022dfc$export$e03ca791698dd2c)($feaabd4d71c4e325$var$dinoElem, \"--bottom\", 0);\n    document.removeEventListener(\"keydown\", $feaabd4d71c4e325$var$onJump);\n    document.removeEventListener(\"touchstart\", $feaabd4d71c4e325$var$onJump);\n    document.addEventListener(\"keydown\", $feaabd4d71c4e325$var$onJump);\n    document.addEventListener(\"touchstart\", $feaabd4d71c4e325$var$onJump); // Add touch support for jump\n}\nfunction $feaabd4d71c4e325$export$cbcccfd5966db536(delta, speedScale) {\n    $feaabd4d71c4e325$var$handleRun(delta, speedScale);\n    $feaabd4d71c4e325$var$handleJump(delta);\n}\nfunction $feaabd4d71c4e325$export$9804903a1f2c375f() {\n    return $feaabd4d71c4e325$var$dinoElem.getBoundingClientRect();\n}\nfunction $feaabd4d71c4e325$export$2b61ae596abda39d() {\n    $feaabd4d71c4e325$var$dinoElem.src = \"imgs/dino-lose.png\";\n}\nfunction $feaabd4d71c4e325$var$handleRun(delta, speedScale) {\n    if ($feaabd4d71c4e325$var$isJumping) {\n        $feaabd4d71c4e325$var$dinoElem.src = `imgs/dino-stationary.png`;\n        return;\n    }\n    if ($feaabd4d71c4e325$var$currentFrameTime >= $feaabd4d71c4e325$var$FRAME_TIME) {\n        $feaabd4d71c4e325$var$dinoFrame = ($feaabd4d71c4e325$var$dinoFrame + 1) % $feaabd4d71c4e325$var$DINO_FRAME_COUNT;\n        $feaabd4d71c4e325$var$dinoElem.src = `imgs/dino-run-${$feaabd4d71c4e325$var$dinoFrame}.png`;\n        $feaabd4d71c4e325$var$currentFrameTime -= $feaabd4d71c4e325$var$FRAME_TIME;\n    }\n    $feaabd4d71c4e325$var$currentFrameTime += delta * speedScale;\n}\nfunction $feaabd4d71c4e325$var$handleJump(delta) {\n    if (!$feaabd4d71c4e325$var$isJumping) return;\n    // Set the jumping image\n    $feaabd4d71c4e325$var$dinoElem.src = \"imgs/dino-jump.png\";\n    (0, $519cb4c390022dfc$export$f4266cf9df6b525c)($feaabd4d71c4e325$var$dinoElem, \"--bottom\", $feaabd4d71c4e325$var$yVelocity * delta);\n    if ((0, $519cb4c390022dfc$export$e5f48de68210dc65)($feaabd4d71c4e325$var$dinoElem, \"--bottom\") <= 0) {\n        (0, $519cb4c390022dfc$export$e03ca791698dd2c)($feaabd4d71c4e325$var$dinoElem, \"--bottom\", 0);\n        $feaabd4d71c4e325$var$isJumping = false;\n        // Revert to the running image after jump\n        $feaabd4d71c4e325$var$dinoElem.src = `imgs/dino-run-${$feaabd4d71c4e325$var$dinoFrame}.png`;\n    }\n    $feaabd4d71c4e325$var$yVelocity -= $feaabd4d71c4e325$var$GRAVITY * delta;\n}\nfunction $feaabd4d71c4e325$var$onJump(e) {\n    if (e.code && e.code !== \"Space\" || $feaabd4d71c4e325$var$isJumping) return;\n    // For touch events, prevent triggering multiple times\n    if (e.type === \"touchstart\") e.preventDefault();\n    $feaabd4d71c4e325$var$yVelocity = $feaabd4d71c4e325$var$JUMP_SPEED;\n    $feaabd4d71c4e325$var$isJumping = true;\n}\n\n\n\nconst $8fff22f74d62c3a7$var$SPEED = 0.05;\nconst $8fff22f74d62c3a7$var$CACTUS_INTERVAL_MIN = 800;\nconst $8fff22f74d62c3a7$var$CACTUS_INTERVAL_MAX = 2000;\nconst $8fff22f74d62c3a7$var$worldElem = document.querySelector(\"[data-world]\");\nlet $8fff22f74d62c3a7$var$nextCactusTime;\nfunction $8fff22f74d62c3a7$export$89198fa3f8b2d09f() {\n    $8fff22f74d62c3a7$var$nextCactusTime = $8fff22f74d62c3a7$var$CACTUS_INTERVAL_MIN;\n    document.querySelectorAll(\"[data-cactus]\").forEach((cactus)=>{\n        cactus.remove();\n    });\n}\nfunction $8fff22f74d62c3a7$export$da9e9a822276eb1(delta, speedScale) {\n    document.querySelectorAll(\"[data-cactus]\").forEach((cactus)=>{\n        (0, $519cb4c390022dfc$export$f4266cf9df6b525c)(cactus, \"--left\", delta * speedScale * $8fff22f74d62c3a7$var$SPEED * -1);\n        if ((0, $519cb4c390022dfc$export$e5f48de68210dc65)(cactus, \"--left\") <= -100) cactus.remove();\n    });\n    if ($8fff22f74d62c3a7$var$nextCactusTime <= 0) {\n        $8fff22f74d62c3a7$var$createCactus();\n        $8fff22f74d62c3a7$var$nextCactusTime = $8fff22f74d62c3a7$var$randomNumberBetween($8fff22f74d62c3a7$var$CACTUS_INTERVAL_MIN, $8fff22f74d62c3a7$var$CACTUS_INTERVAL_MAX) / speedScale;\n    }\n    $8fff22f74d62c3a7$var$nextCactusTime -= delta;\n}\nfunction $8fff22f74d62c3a7$export$324ff5de095e53a1() {\n    return [\n        ...document.querySelectorAll(\"[data-cactus]\")\n    ].map((cactus)=>{\n        return cactus.getBoundingClientRect();\n    });\n}\nfunction $8fff22f74d62c3a7$var$createCactus() {\n    const cactus = document.createElement(\"img\");\n    cactus.dataset.cactus = true;\n    cactus.src = \"imgs/cactus.png\";\n    cactus.classList.add(\"cactus\");\n    (0, $519cb4c390022dfc$export$e03ca791698dd2c)(cactus, \"--left\", 100);\n    $8fff22f74d62c3a7$var$worldElem.append(cactus);\n}\nfunction $8fff22f74d62c3a7$var$randomNumberBetween(min, max) {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\n\nconst $c1ce9d969bfa6909$var$WORLD_WIDTH = 100;\nconst $c1ce9d969bfa6909$var$WORLD_HEIGHT = 30;\nconst $c1ce9d969bfa6909$var$SPEED_SCALE_INCREASE = 0.00001;\nconst $c1ce9d969bfa6909$var$worldElem = document.querySelector(\"[data-world]\");\nconst $c1ce9d969bfa6909$var$scoreElem = document.querySelector(\"[data-score]\");\nconst $c1ce9d969bfa6909$var$startScreenElem = document.querySelector(\"[data-start-screen]\");\n$c1ce9d969bfa6909$var$setPixelToWorldScale();\nwindow.addEventListener(\"resize\", $c1ce9d969bfa6909$var$setPixelToWorldScale);\ndocument.addEventListener(\"keydown\", $c1ce9d969bfa6909$var$handleStart, {\n    once: true\n});\ndocument.addEventListener(\"touchstart\", $c1ce9d969bfa6909$var$handleStart, {\n    once: true\n});\nlet $c1ce9d969bfa6909$var$lastTime;\nlet $c1ce9d969bfa6909$var$speedScale;\nlet $c1ce9d969bfa6909$var$score;\nfunction $c1ce9d969bfa6909$var$update(time) {\n    if ($c1ce9d969bfa6909$var$lastTime == null) {\n        $c1ce9d969bfa6909$var$lastTime = time;\n        window.requestAnimationFrame($c1ce9d969bfa6909$var$update);\n        return;\n    }\n    const delta = time - $c1ce9d969bfa6909$var$lastTime;\n    (0, $c37474b915fc53e3$export$1fc9a0611b84a598)(delta, $c1ce9d969bfa6909$var$speedScale);\n    (0, $feaabd4d71c4e325$export$cbcccfd5966db536)(delta, $c1ce9d969bfa6909$var$speedScale);\n    (0, $8fff22f74d62c3a7$export$da9e9a822276eb1)(delta, $c1ce9d969bfa6909$var$speedScale);\n    $c1ce9d969bfa6909$var$updateSpeedScale(delta);\n    $c1ce9d969bfa6909$var$updateScore(delta);\n    if ($c1ce9d969bfa6909$var$checkLose()) return $c1ce9d969bfa6909$var$handleLose();\n    $c1ce9d969bfa6909$var$lastTime = time;\n    window.requestAnimationFrame($c1ce9d969bfa6909$var$update);\n}\nfunction $c1ce9d969bfa6909$var$checkLose() {\n    const dinoRect = (0, $feaabd4d71c4e325$export$9804903a1f2c375f)();\n    return (0, $8fff22f74d62c3a7$export$324ff5de095e53a1)().some((rect)=>$c1ce9d969bfa6909$var$isCollision(rect, dinoRect));\n}\nfunction $c1ce9d969bfa6909$var$isCollision(rect1, rect2) {\n    return rect1.left < rect2.right && rect1.top < rect2.bottom && rect1.right > rect2.left && rect1.bottom > rect2.top;\n}\nfunction $c1ce9d969bfa6909$var$updateSpeedScale(delta) {\n    $c1ce9d969bfa6909$var$speedScale += delta * $c1ce9d969bfa6909$var$SPEED_SCALE_INCREASE;\n}\nfunction $c1ce9d969bfa6909$var$updateScore(delta) {\n    $c1ce9d969bfa6909$var$score += delta * 0.01;\n    $c1ce9d969bfa6909$var$scoreElem.textContent = Math.floor($c1ce9d969bfa6909$var$score);\n}\nfunction $c1ce9d969bfa6909$var$handleStart() {\n    $c1ce9d969bfa6909$var$lastTime = null;\n    $c1ce9d969bfa6909$var$speedScale = 1;\n    $c1ce9d969bfa6909$var$score = 0;\n    (0, $c37474b915fc53e3$export$62c7cf436fdb9795)();\n    (0, $feaabd4d71c4e325$export$8ddafcef54881f96)();\n    (0, $8fff22f74d62c3a7$export$89198fa3f8b2d09f)();\n    $c1ce9d969bfa6909$var$startScreenElem.classList.add(\"hide\");\n    // Remove touch listener to prevent multiple triggers\n    document.removeEventListener(\"touchstart\", $c1ce9d969bfa6909$var$handleStart);\n    document.removeEventListener(\"keydown\", $c1ce9d969bfa6909$var$handleStart);\n    window.requestAnimationFrame($c1ce9d969bfa6909$var$update);\n}\nfunction $c1ce9d969bfa6909$var$handleLose() {\n    (0, $feaabd4d71c4e325$export$2b61ae596abda39d)();\n    setTimeout(()=>{\n        document.addEventListener(\"keydown\", $c1ce9d969bfa6909$var$handleStart, {\n            once: true\n        });\n        $c1ce9d969bfa6909$var$startScreenElem.classList.remove(\"hide\");\n    }, 100);\n}\nfunction $c1ce9d969bfa6909$var$setPixelToWorldScale() {\n    let worldToPixelScale;\n    if (window.innerWidth / window.innerHeight < $c1ce9d969bfa6909$var$WORLD_WIDTH / $c1ce9d969bfa6909$var$WORLD_HEIGHT) worldToPixelScale = window.innerWidth / $c1ce9d969bfa6909$var$WORLD_WIDTH;\n    else worldToPixelScale = window.innerHeight / $c1ce9d969bfa6909$var$WORLD_HEIGHT;\n    $c1ce9d969bfa6909$var$worldElem.style.width = `${$c1ce9d969bfa6909$var$WORLD_WIDTH * worldToPixelScale}px`;\n    $c1ce9d969bfa6909$var$worldElem.style.height = `${$c1ce9d969bfa6909$var$WORLD_HEIGHT * worldToPixelScale}px`;\n}\n\n\n//# sourceMappingURL=index.e80cf9a3.js.map\n","import { updateGround, setupGround } from \"./ground.js\";\nimport { updateDino, setupDino, getDinoRect, setDinoLose } from \"./dino.js\";\nimport { updateCactus, setupCactus, getCactusRects } from \"./cactus.js\";\n\nconst WORLD_WIDTH = 100;\nconst WORLD_HEIGHT = 30;\nconst SPEED_SCALE_INCREASE = 0.00001;\n\nconst worldElem = document.querySelector(\"[data-world]\");\nconst scoreElem = document.querySelector(\"[data-score]\");\nconst startScreenElem = document.querySelector(\"[data-start-screen]\");\n\nsetPixelToWorldScale();\nwindow.addEventListener(\"resize\", setPixelToWorldScale);\ndocument.addEventListener(\"keydown\", handleStart, { once: true });\ndocument.addEventListener(\"touchstart\", handleStart, { once: true });\n\nlet lastTime;\nlet speedScale;\nlet score;\nfunction update(time) {\n  if (lastTime == null) {\n    lastTime = time;\n    window.requestAnimationFrame(update);\n    return;\n  }\n  const delta = time - lastTime;\n\n  updateGround(delta, speedScale);\n  updateDino(delta, speedScale);\n  updateCactus(delta, speedScale);\n  updateSpeedScale(delta);\n  updateScore(delta);\n  if (checkLose()) return handleLose();\n\n  lastTime = time;\n  window.requestAnimationFrame(update);\n}\n\nfunction checkLose() {\n  const dinoRect = getDinoRect();\n  return getCactusRects().some((rect) => isCollision(rect, dinoRect));\n}\n\nfunction isCollision(rect1, rect2) {\n  return (\n    rect1.left < rect2.right &&\n    rect1.top < rect2.bottom &&\n    rect1.right > rect2.left &&\n    rect1.bottom > rect2.top\n  );\n}\n\nfunction updateSpeedScale(delta) {\n  speedScale += delta * SPEED_SCALE_INCREASE;\n}\n\nfunction updateScore(delta) {\n  score += delta * 0.01;\n  scoreElem.textContent = Math.floor(score);\n}\n\nfunction handleStart() {\n  lastTime = null;\n  speedScale = 1;\n  score = 0;\n  setupGround();\n  setupDino();\n  setupCactus();\n  startScreenElem.classList.add(\"hide\");\n\n  // Remove touch listener to prevent multiple triggers\n  document.removeEventListener(\"touchstart\", handleStart);\n  document.removeEventListener(\"keydown\", handleStart);\n\n  window.requestAnimationFrame(update);\n}\n\nfunction handleLose() {\n  setDinoLose();\n  setTimeout(() => {\n    document.addEventListener(\"keydown\", handleStart, { once: true });\n    startScreenElem.classList.remove(\"hide\");\n  }, 100);\n}\n\nfunction setPixelToWorldScale() {\n  let worldToPixelScale;\n  if (window.innerWidth / window.innerHeight < WORLD_WIDTH / WORLD_HEIGHT) {\n    worldToPixelScale = window.innerWidth / WORLD_WIDTH;\n  } else {\n    worldToPixelScale = window.innerHeight / WORLD_HEIGHT;\n  }\n\n  worldElem.style.width = `${WORLD_WIDTH * worldToPixelScale}px`;\n  worldElem.style.height = `${WORLD_HEIGHT * worldToPixelScale}px`;\n}\n","import {\n  getCustomProperty,\n  incrementCustomProperty,\n  setCustomProperty,\n} from \"./updateCustomProperty.js\"\n\nconst SPEED = 0.05\nconst groundElems = document.querySelectorAll(\"[data-ground]\")\n\nexport function setupGround() {\n  setCustomProperty(groundElems[0], \"--left\", 0)\n  setCustomProperty(groundElems[1], \"--left\", 300)\n}\n\nexport function updateGround(delta, speedScale) {\n  groundElems.forEach(ground => {\n    incrementCustomProperty(ground, \"--left\", delta * speedScale * SPEED * -1)\n\n    if (getCustomProperty(ground, \"--left\") <= -300) {\n      incrementCustomProperty(ground, \"--left\", 600)\n    }\n  })\n}\n","export function getCustomProperty(elem, prop) {\n  return parseFloat(getComputedStyle(elem).getPropertyValue(prop)) || 0\n}\n\nexport function setCustomProperty(elem, prop, value) {\n  elem.style.setProperty(prop, value)\n}\n\nexport function incrementCustomProperty(elem, prop, inc) {\n  setCustomProperty(elem, prop, getCustomProperty(elem, prop) + inc)\n}\n","import {\n  incrementCustomProperty,\n  setCustomProperty,\n  getCustomProperty,\n} from \"./updateCustomProperty.js\";\n\nconst dinoElem = document.querySelector(\"[data-dino]\");\nconst JUMP_SPEED = 0.45;\nconst GRAVITY = 0.0015;\nconst DINO_FRAME_COUNT = 2;\nconst FRAME_TIME = 100;\n\nlet isJumping;\nlet dinoFrame;\nlet currentFrameTime;\nlet yVelocity;\nexport function setupDino() {\n  isJumping = false;\n  dinoFrame = 0;\n  currentFrameTime = 0;\n  yVelocity = 0;\n  setCustomProperty(dinoElem, \"--bottom\", 0);\n\n  document.removeEventListener(\"keydown\", onJump);\n  document.removeEventListener(\"touchstart\", onJump);\n\n  document.addEventListener(\"keydown\", onJump);\n  document.addEventListener(\"touchstart\", onJump); // Add touch support for jump\n}\n\nexport function updateDino(delta, speedScale) {\n  handleRun(delta, speedScale);\n  handleJump(delta);\n}\n\nexport function getDinoRect() {\n  return dinoElem.getBoundingClientRect();\n}\n\nexport function setDinoLose() {\n  dinoElem.src = \"imgs/dino-lose.png\";\n}\n\nfunction handleRun(delta, speedScale) {\n  if (isJumping) {\n    dinoElem.src = `imgs/dino-stationary.png`;\n    return;\n  }\n\n  if (currentFrameTime >= FRAME_TIME) {\n    dinoFrame = (dinoFrame + 1) % DINO_FRAME_COUNT;\n    dinoElem.src = `imgs/dino-run-${dinoFrame}.png`;\n    currentFrameTime -= FRAME_TIME;\n  }\n  currentFrameTime += delta * speedScale;\n}\n\nfunction handleJump(delta) {\n  if (!isJumping) return;\n\n  // Set the jumping image\n  dinoElem.src = \"imgs/dino-jump.png\";\n\n  incrementCustomProperty(dinoElem, \"--bottom\", yVelocity * delta);\n\n  if (getCustomProperty(dinoElem, \"--bottom\") <= 0) {\n    setCustomProperty(dinoElem, \"--bottom\", 0);\n    isJumping = false;\n\n    // Revert to the running image after jump\n    dinoElem.src = `imgs/dino-run-${dinoFrame}.png`;\n  }\n\n  yVelocity -= GRAVITY * delta;\n}\n\nfunction onJump(e) {\n  if ((e.code && e.code !== \"Space\") || isJumping) return;\n\n  // For touch events, prevent triggering multiple times\n  if (e.type === \"touchstart\") {\n    e.preventDefault();\n  }\n\n  yVelocity = JUMP_SPEED;\n  isJumping = true;\n}\n","import {\n  setCustomProperty,\n  incrementCustomProperty,\n  getCustomProperty,\n} from \"./updateCustomProperty.js\";\n\nconst SPEED = 0.05;\nconst CACTUS_INTERVAL_MIN = 800;\nconst CACTUS_INTERVAL_MAX = 2000;\nconst worldElem = document.querySelector(\"[data-world]\");\n\nlet nextCactusTime;\nexport function setupCactus() {\n  nextCactusTime = CACTUS_INTERVAL_MIN;\n  document.querySelectorAll(\"[data-cactus]\").forEach((cactus) => {\n    cactus.remove();\n  });\n}\n\nexport function updateCactus(delta, speedScale) {\n  document.querySelectorAll(\"[data-cactus]\").forEach((cactus) => {\n    incrementCustomProperty(cactus, \"--left\", delta * speedScale * SPEED * -1);\n    if (getCustomProperty(cactus, \"--left\") <= -100) {\n      cactus.remove();\n    }\n  });\n\n  if (nextCactusTime <= 0) {\n    createCactus();\n    nextCactusTime =\n      randomNumberBetween(CACTUS_INTERVAL_MIN, CACTUS_INTERVAL_MAX) /\n      speedScale;\n  }\n  nextCactusTime -= delta;\n}\n\nexport function getCactusRects() {\n  return [...document.querySelectorAll(\"[data-cactus]\")].map((cactus) => {\n    return cactus.getBoundingClientRect();\n  });\n}\n\nfunction createCactus() {\n  const cactus = document.createElement(\"img\");\n  cactus.dataset.cactus = true;\n  cactus.src = \"imgs/cactus.png\";\n  cactus.classList.add(\"cactus\");\n  setCustomProperty(cactus, \"--left\", 100);\n  worldElem.append(cactus);\n}\n\nfunction randomNumberBetween(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n"],"names":["$feaabd4d71c4e325$var$isJumping","$feaabd4d71c4e325$var$dinoFrame","$feaabd4d71c4e325$var$currentFrameTime","$feaabd4d71c4e325$var$yVelocity","$8fff22f74d62c3a7$var$nextCactusTime","$c1ce9d969bfa6909$var$lastTime","$c1ce9d969bfa6909$var$speedScale","$c1ce9d969bfa6909$var$score","$519cb4c390022dfc$export$e5f48de68210dc65","elem","prop","parseFloat","getComputedStyle","getPropertyValue","$519cb4c390022dfc$export$e03ca791698dd2c","value","style","setProperty","$519cb4c390022dfc$export$f4266cf9df6b525c","inc","$c37474b915fc53e3$var$groundElems","document","querySelectorAll","$feaabd4d71c4e325$var$dinoElem","querySelector","$feaabd4d71c4e325$var$onJump","e","code","type","preventDefault","$8fff22f74d62c3a7$var$worldElem","$c1ce9d969bfa6909$var$worldElem","$c1ce9d969bfa6909$var$scoreElem","$c1ce9d969bfa6909$var$startScreenElem","$c1ce9d969bfa6909$var$update","time","speedScale","window","requestAnimationFrame","delta","forEach","ground","$feaabd4d71c4e325$var$handleRun","src","$feaabd4d71c4e325$var$GRAVITY","cactus","remove","$8fff22f74d62c3a7$var$createCactus","createElement","dataset","classList","add","append","$8fff22f74d62c3a7$var$randomNumberBetween","Math","floor","max","random","textContent","$c1ce9d969bfa6909$var$checkLose","dinoRect","getBoundingClientRect","map","some","rect","rect1","left","rect2","right","top","bottom","setTimeout","addEventListener","$c1ce9d969bfa6909$var$handleStart","once","removeEventListener","$c1ce9d969bfa6909$var$setPixelToWorldScale","worldToPixelScale","innerWidth","innerHeight","$c1ce9d969bfa6909$var$WORLD_WIDTH","width","height","$c1ce9d969bfa6909$var$WORLD_HEIGHT"],"version":3,"file":"index.e80cf9a3.js.map"}