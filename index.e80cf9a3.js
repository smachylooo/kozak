let e,t,n,o,r,c,d,i;function u(e,t){return parseFloat(getComputedStyle(e).getPropertyValue(t))||0}function a(e,t,n){e.style.setProperty(t,n)}function s(e,t,n){a(e,t,u(e,t)+n)}const l=document.querySelectorAll("[data-ground]"),m=document.querySelector("[data-dino]");function f(t){t.code&&"Space"!==t.code||e||("touchstart"===t.type&&t.preventDefault(),o=.45,e=!0)}const g=document.querySelector("[data-world]"),w=document.querySelector("[data-world]"),h=document.querySelector("[data-score]"),y=document.querySelector("[data-start-screen]");function p(f){var w,E;if(null==c){c=f,window.requestAnimationFrame(p);return}let L=f-c;if(w=d,l.forEach(e=>{s(e,"--left",-(L*w*.05)),-300>=u(e,"--left")&&s(e,"--left",600)}),function(o,r){if(e){m.src="imgs/dino-stationary.png";return}n>=100&&(t=(t+1)%2,m.src=`imgs/dino-run-${t}.png`,n-=100),n+=o*r}(L,d),e&&(m.src="imgs/dino-jump.png",s(m,"--bottom",o*L),0>=u(m,"--bottom")&&(a(m,"--bottom",0),e=!1,m.src=`imgs/dino-run-${t}.png`),o-=.0015*L),E=d,document.querySelectorAll("[data-cactus]").forEach(e=>{s(e,"--left",-(L*E*.05)),-100>=u(e,"--left")&&e.remove()}),r<=0&&(function(){let e=document.createElement("img");e.dataset.cactus=!0,e.src="imgs/cactus.png",e.classList.add("cactus"),a(e,"--left",100),g.append(e)}(),r=Math.floor(1201*Math.random()+800)/E),r-=L,d+=1e-5*L,i+=.01*L,h.textContent=Math.floor(i),function(){let e=m.getBoundingClientRect();return[...document.querySelectorAll("[data-cactus]")].map(e=>e.getBoundingClientRect()).some(t=>t.left<e.right&&t.top<e.bottom&&t.right>e.left&&t.bottom>e.top)}())return void(m.src="imgs/dino-lose.png",setTimeout(()=>{document.addEventListener("keydown",v,{once:!0}),y.classList.remove("hide")},100));c=f,window.requestAnimationFrame(p)}function v(){c=null,d=1,i=0,a(l[0],"--left",0),a(l[1],"--left",300),e=!1,t=0,n=0,o=0,a(m,"--bottom",0),document.removeEventListener("keydown",f),document.removeEventListener("touchstart",f),document.addEventListener("keydown",f),document.addEventListener("touchstart",f),r=800,document.querySelectorAll("[data-cactus]").forEach(e=>{e.remove()}),y.classList.add("hide"),document.removeEventListener("touchstart",v),document.removeEventListener("keydown",v),window.requestAnimationFrame(p)}function E(){let e;e=window.innerWidth/window.innerHeight<100/30?window.innerWidth/100:window.innerHeight/30,w.style.width=`${100*e}px`,w.style.height=`${30*e}px`}E(),window.addEventListener("resize",E),document.addEventListener("keydown",v,{once:!0}),document.addEventListener("touchstart",v,{once:!0});
//# sourceMappingURL=index.e80cf9a3.js.map
